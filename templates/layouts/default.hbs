<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{{title}}</title>
    <!-- find me in node_modules/midden/dist/styles -->
    <link rel="stylesheet" href="/midden.css">
    <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
  </head>
  <body>
    <nav>
      <a href="/news-1.html">News</a>
    </nav>
    <h1>{{title}}</h1>
      {% body %}

    {{!-- {{midden "view.data"}} --}}
    <p><i>Experimenting with collections here.</i></p>
    <p>Year is {{year}}</p>
    {{#newsitems}}
      {{#withSort items "data.published" reverse="true" }}
        <br>{{this.data.title}}  {{this.data.finalPath}} <i>{{date this.data.published 'MMMM Do YYYY'}} </i> {{this.data.featured}}
      {{/withSort }}
    {{/newsitems}}

    <h2>Featured</h2>
    {{#newsitems}}
      {{#filter items true property="data.featured"}}
        <br>{{this.data.title}} <i>{{date this.data.published 'MMMM Do YYYY'}} </i>
      {{else}}
        no featured items<br>
      {{/filter}}
    {{/newsitems}}

    <p>Using collectionQuery</p> 
    {{#newsitems}}
      {{#collectionQuery items key='data.featured' value=true sortBy='data.published' sortDir='desc'}}
        <br>{{this.data.title}} <i>{{date this.data.published 'MMMM Do YYYY'}} </i>
      {{/collectionQuery}}
    {{/newsitems}}

    <!-- find me in node_modules/midden/dist/js -->
    <script src="/midden-client.js"></script>
  </body>
</html>
