# asm-pager-test
My attempt to understand paginations methods in [Assemble.js](https://github.com/assemble/assemble).

Creates a simple assemble website with three content collections: page, newsitems and newsindex. Page is just the homepage, which contains a link to a news index page. Newsitems are a collection of simple blog-post type items, they're the files I want to display as a paginated list. Newsindex is one or more pages generated by assemble without any files.

## General Plan
Our use case is a blog, let's say you have a source directory with 25 blog posts that you want to paginate. Is this case, you'd have a main blog page that shows the latest 10 posts. The bottom of that page would have what looks like your bog-standard paginator with first, prev, next, and last links, plus all the pages in-between. Clicking that _next_ button would load a new page with the next 10 items. A dynamic website would have one page that updates as the user increments and decrements the page counter. In our case, we'll pre-generate all our pages within Assemble and save ourselves many precious electrons.

The first page we'll name `blog-1.html`, then `blog-2.html` etc.

Assemble's List objects have a built-in function called `paginate` that can take any list of views and break it up into a set of sublists, along with all the other data you need to create a set of paginated pages. By converting a renderable collection of pages into a list, you can call `list.paginate({limit: 10})` to split your list into an array of sublists.

Looping over this sublist you can then create a second set a views that get rendered out a pages, one page for each sublist. For example, if you have... TBC


## Gotchas
The paginator function adds many useful data attributes you can use while templating, including `first` and `last`. But Handlebar-helpers also has helpers by that name. I had to use `{{this.first}}` and `{{this.last}}` to make sure I used the right values.

By default, the `view.data` inside the sublists doesn't contain any useful path data for constructing the URLS. I created a simple middleware to add that data to each sublist item before rendering.

## To Run Example
Clone repo and cd into it

`nvm use` to load compatible node version

`npm i` to install dependencies

If you want to use midden to inspect view data
`cp node_modules/midden/dist/js/midden-client.js dist/`
`cp node_modules/midden/dist/styles/midden.css dist/`

`assemble` builds the site and launches it in your browser

## References
(https://github.com/doowb/paginationator)

(https://github.com/jonschlinkert/templates)

(https://github.com/criticalmash/assemble-midden#readme)

